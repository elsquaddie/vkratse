# üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã /grantpro

**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-17
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

---

## üìã –û –∫–æ–º–∞–Ω–¥–µ

`/grantpro` - –∞–¥–º–∏–Ω—Å–∫–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ä—É—á–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ Pro-–ø–æ–¥–ø–∏—Å–æ–∫.

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:** –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–ª–∞—Ç–Ω—ã–º–∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏, –ø–æ—ç—Ç–æ–º—É —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π –∑–∞—â–∏—Ç–æ–π.

---

## üîê –ú–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- ‚úÖ –¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å `ADMIN_USER_ID` –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É
- ‚úÖ –í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

### 2. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `user_id` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º
- ‚úÖ `duration_days` –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º 1-3650 (–º–∞–∫—Å 10 –ª–µ—Ç)
- ‚úÖ –í—Å–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—Ö–æ–¥—ã –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

### 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è –Ω–∞—á–∞–ª–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–¥–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏)
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è —É—Å–ø–µ—Ö/–Ω–µ—É–¥–∞—á–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- ‚úÖ –õ–æ–≥–∏—Ä—É—é—Ç—Å—è –ø–æ–ø—ã—Ç–∫–∏ –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –í—Å–µ –ª–æ–≥–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç admin_id, target_user_id, duration

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ Graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ë–î
- ‚úÖ Graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### 5. –ê—É–¥–∏—Ç
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π `transaction_id` –¥–ª—è –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –§–æ—Ä–º–∞—Ç: `manual_grant_{admin_id}_{timestamp}`
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

---

## üõ†Ô∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ADMIN_USER_ID

**–ö–∞–∫ —É–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram ID:**

1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É [@userinfobot](https://t.me/userinfobot)
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à `Id` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789`)

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ Vercel:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Vercel Dashboard](https://vercel.com/dashboard)
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `vkratse`
3. Settings ‚Üí Environment Variables
4. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - **Name:** `ADMIN_USER_ID`
   - **Value:** `123456789` (–≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π ID)
   - **Environments:** Production, Preview, Development
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ
6. **–í–ê–ñ–ù–û:** –°–¥–µ–ª–∞–π—Ç–µ redeploy –ø—Ä–æ–µ–∫—Ç–∞!

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ .env (–ª–æ–∫–∞–ª—å–Ω–æ):**

```bash
# –í —Ñ–∞–π–ª–µ .env (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ Git!)
ADMIN_USER_ID=123456789
```

---

## üß™ –¢–µ—Å—Ç-–∫–µ–π—Å—ã

### ‚úÖ –ü–û–ó–ò–¢–ò–í–ù–´–ï –¢–ï–°–¢–´

#### –¢–µ—Å—Ç 1: –£—Å–ø–µ—à–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏–µ:** –í—ã - –∞–¥–º–∏–Ω (–≤–∞—à user_id == ADMIN_USER_ID)

**–®–∞–≥–∏:**
1. –ù–∞–π–¥–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π user_id (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ç–æ—Ä–æ–π –∞–∫–∫–∞—É–Ω—Ç –∏–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –¥—Ä—É–≥–∞)
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `/grantpro <test_user_id> 30`
3. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   ```
   ‚úÖ Pro-–ø–æ–¥–ø–∏—Å–∫–∞ —É—Å–ø–µ—à–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞!

   üë§ User ID: <test_user_id>
   ‚è∞ –°—Ä–æ–∫: 30 –¥–Ω–µ–π
   üìÖ –ò—Å—Ç–µ–∫–∞–µ—Ç: 2025-12-17 14:30

   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.
   ```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –ê–¥–º–∏–Ω –ø–æ–ª—É—á–∏–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –¥–µ—Ç–∞–ª—è–º–∏
- [ ] –í –ë–î —Å–æ–∑–¥–∞–Ω–∞ –∑–∞–ø–∏—Å—å –≤ `subscriptions`:
  ```sql
  SELECT * FROM subscriptions WHERE user_id = <test_user_id>;
  -- –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: tier='pro', is_active=true, expires_at=<—á–µ—Ä–µ–∑ 30 –¥–Ω–µ–π>
  ```
- [ ] –í –ª–æ–≥–∞—Ö –ø–æ—è–≤–∏–ª–∞—Å—å –∑–∞–ø–∏—Å—å:
  ```
  [INFO] Admin 123456789 initiating Pro subscription grant: target_user=..., duration=30 days
  [INFO] Pro subscription granted successfully: user=..., days=30, admin=123456789
  [INFO] User <test_user_id> notified about Pro activation
  ```

#### –¢–µ—Å—Ç 2: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã
**–®–∞–≥–∏:**
1. `/grantpro <user_id> 7` - –Ω–µ–¥–µ–ª—è
2. `/grantpro <user_id> 365` - –≥–æ–¥
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ë–î –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ expires_at –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª—É—á–∞—è

#### –¢–µ—Å—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
**–®–∞–≥–∏:**
1. `/grantpro <user_id>` (–±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –¥–Ω–µ–π)
2. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –∞–∫—Ç–∏–≤–∞—Ü–∏—è –Ω–∞ 30 –¥–Ω–µ–π (–¥–µ—Ñ–æ–ª—Ç)

#### –¢–µ—Å—Ç 4: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–≤–æ–π —Å—Ç–∞—Ç—É—Å
**–®–∞–≥–∏:**
1. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å Pro: `/grantpro <user_id> 30`
2. –° –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å: `/mystatus`
3. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   ```
   üìä –¢–≤–æ–π —Å—Ç–∞—Ç—É—Å

   –¢–∞—Ä–∏—Ñ: üíé Pro
   –ê–∫—Ç–∏–≤–µ–Ω –¥–æ: 2025-12-17
   –û—Å—Ç–∞–ª–æ—Å—å: 30 –¥–Ω–µ–π

   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ —Å–µ–≥–æ–¥–Ω—è:
   üí¨ –°–æ–æ–±—â–µ–Ω–∏—è: 0/500
   ...
   ```

---

### ‚ùå –ù–ï–ì–ê–¢–ò–í–ù–´–ï –¢–ï–°–¢–´ (–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

#### –¢–µ—Å—Ç 5: –ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –ù–ï-–∞–¥–º–∏–Ω–æ–º
**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π –∞–∫–∫–∞—É–Ω—Ç (–Ω–µ ADMIN_USER_ID)

**–®–∞–≥–∏:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `/grantpro 123456789 30`
2. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   ```
   ‚õî –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω. –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.
   ```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –ü–æ–¥–ø–∏—Å–∫–∞ –ù–ï –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞
- [ ] –í –ª–æ–≥–∞—Ö –ø–æ—è–≤–∏–ª–∞—Å—å –∑–∞–ø–∏—Å—å:
  ```
  [WARNING] Unauthorized /grantpro attempt by user <non_admin_id>
  ```

#### –¢–µ—Å—Ç 6: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–æ–º–∞–Ω–¥—ã
**–®–∞–≥–∏:**
1. `/grantpro` (–±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤)
2. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   ```
   ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–æ–º–∞–Ω–¥—ã.

   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: /grantpro <user_id> <days>
   –ü—Ä–∏–º–µ—Ä: /grantpro 123456789 30
   ...
   ```

#### –¢–µ—Å—Ç 7: –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π user_id
**–®–∞–≥–∏:**
1. `/grantpro abc 30` (–±—É–∫–≤—ã –≤–º–µ—Å—Ç–æ —á–∏—Å–ª–∞)
2. `/grantpro -123 30` (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ)
3. `/grantpro 0 30` (–Ω–æ–ª—å)

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –î–ª—è –±—É–∫–≤: `‚ùå –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.`
- –î–ª—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö/–Ω—É–ª—è: `‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π user_id. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º.`

#### –¢–µ—Å—Ç 8: –ù–µ–≤–∞–ª–∏–¥–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
**–®–∞–≥–∏:**
1. `/grantpro 123456789 0` (–Ω–æ–ª—å –¥–Ω–µ–π)
2. `/grantpro 123456789 -10` (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ)
3. `/grantpro 123456789 99999` (—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚ùå –ù–µ–≤–µ—Ä–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –î–æ–ø—É—Å—Ç–∏–º–æ: 1-3650 –¥–Ω–µ–π.
```

#### –¢–µ—Å—Ç 9: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞—á–∞–ª –¥–∏–∞–ª–æ–≥ —Å –±–æ—Ç–æ–º
**–®–∞–≥–∏:**
1. –ù–∞–π–¥–∏—Ç–µ user_id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–∏—Å–∞–ª –±–æ—Ç—É
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `/grantpro <new_user_id> 30`
3. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–∞–¥–º–∏–Ω—É):
   ```
   ‚úÖ Pro-–ø–æ–¥–ø–∏—Å–∫–∞ —É—Å–ø–µ—à–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞!
   ...
   ‚ö†Ô∏è –ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞, –Ω–æ –Ω–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
   –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞—á–∞–ª –¥–∏–∞–ª–æ–≥ —Å –±–æ—Ç–æ–º.
   ```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –ü–æ–¥–ø–∏—Å–∫–∞ –í–°–Å –†–ê–í–ù–û –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ –≤ –ë–î
- [ ] –ê–¥–º–∏–Ω –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥—ë–Ω –æ –ø—Ä–æ–±–ª–µ–º–µ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º
- [ ] –í –ª–æ–≥–∞—Ö: `[ERROR] Failed to notify user <user_id>: ...`

---

## üõ°Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –≤ Vercel:

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Vercel Dashboard](https://vercel.com/dashboard)
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç ‚Üí Deployments ‚Üí Latest
3. –û—Ç–∫—Ä–æ–π—Ç–µ Logs
4. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø–∏—Å–∏ —Å `/grantpro`

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:**
- ‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –õ–æ–≥–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç admin_id, target_user_id, duration
- ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–º–µ—á–µ–Ω—ã `[INFO]`
- ‚úÖ –û—à–∏–±–∫–∏ –ø–æ–º–µ—á–µ–Ω—ã `[ERROR]`
- ‚úÖ –ü–æ–ø—ã—Ç–∫–∏ –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –ø–æ–º–µ—á–µ–Ω—ã `[WARNING]`

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î (Supabase)

**SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏
```sql
SELECT
  user_id,
  tier,
  expires_at,
  payment_method,
  transaction_id,
  is_active,
  created_at
FROM subscriptions
WHERE is_active = true
ORDER BY created_at DESC;
```

### 2. –ù–∞–π—Ç–∏ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ /grantpro
```sql
SELECT *
FROM subscriptions
WHERE payment_method = 'tribute'
  AND transaction_id LIKE 'manual_grant_%'
ORDER BY created_at DESC;
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```sql
SELECT *
FROM subscriptions
WHERE user_id = 123456789;
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ç—ë–∫—à–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
```sql
SELECT *
FROM subscriptions
WHERE expires_at < NOW()
  AND is_active = true;
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ Production

### 1. ADMIN_USER_ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–º
- ‚ùå –ù–ï –ø—É–±–ª–∏–∫—É–π—Ç–µ –≤ Git
- ‚ùå –ù–ï –¥–µ–ª–∏—Ç–µ—Å—å —Å –¥—Ä—É–≥–∏–º–∏
- ‚úÖ –•—Ä–∞–Ω–∏—Ç–µ —Ç–æ–ª—å–∫–æ –≤ Vercel Environment Variables

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø–æ–ø—ã—Ç–∫–∏ –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å - —Å–º–µ–Ω–∏—Ç–µ ADMIN_USER_ID

### 3. –ê—É–¥–∏—Ç
- –í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–º–µ—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π transaction_id
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å, –∫—Ç–æ –∏ –∫–æ–≥–¥–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª –ø–æ–¥–ø–∏—Å–∫—É

### 4. –ë–µ–∫–∞–ø
- –ü–µ—Ä–µ–¥ –º–∞—Å—Å–æ–≤–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π —Å–¥–µ–ª–∞–π—Ç–µ –±–µ–∫–∞–ø —Ç–∞–±–ª–∏—Ü—ã `subscriptions`

---

## üîÑ –û—Ç–∫–∞—Ç –ø–æ–¥–ø–∏—Å–∫–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ —Å–ª—É—á–∞–π–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∏ –ø–æ–¥–ø–∏—Å–∫—É –Ω–µ —Ç–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:

```sql
-- –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
UPDATE subscriptions
SET is_active = false, updated_at = NOW()
WHERE user_id = <wrong_user_id>;
```

**–í–ê–ñ–ù–û:** –í –±—É–¥—É—â–µ–º –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ `/revokepro` –¥–ª—è –æ—Ç–º–µ–Ω—ã –ø–æ–¥–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ –±–æ—Ç–∞.

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- [ ] ‚úÖ –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç: —É—Å–ø–µ—à–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è 30 –¥–Ω–µ–π
- [ ] ‚úÖ –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç: –∞–∫—Ç–∏–≤–∞—Ü–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã (7, 365 –¥–Ω–µ–π)
- [ ] ‚úÖ –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç: –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –¥–Ω–µ–π)
- [ ] ‚úÖ –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç Pro –≤ /mystatus
- [ ] ‚ùå –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç: –¥–æ—Å—Ç—É–ø –ù–ï-–∞–¥–º–∏–Ω–æ–º –æ—Ç–∫–ª–æ–Ω—ë–Ω
- [ ] ‚ùå –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç: –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π user_id –æ—Ç–∫–ª–æ–Ω—ë–Ω
- [ ] ‚ùå –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç: –Ω–µ–≤–∞–ª–∏–¥–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞
- [ ] ‚ùå –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç: graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] üõ°Ô∏è –õ–æ–≥–∏: –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] üõ°Ô∏è –ë–î: —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–º–µ—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ transaction_id
- [ ] üõ°Ô∏è –ë–î: expires_at –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ Production

–ö–æ–º–∞–Ω–¥–∞ `/grantpro` –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production, –µ—Å–ª–∏:

- ‚úÖ –í—Å–µ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
- ‚úÖ –í—Å–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
- ‚úÖ –õ–æ–≥–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ë–î –∑–∞–ø–∏—Å–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ ADMIN_USER_ID —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Vercel
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

---

**–ê–≤—Ç–æ—Ä:** Claude Code
**–í–µ—Ä—Å–∏—è:** 1.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-17
